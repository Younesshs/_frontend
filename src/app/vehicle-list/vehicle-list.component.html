<ul class="space-y-4">
  <li>
    <a
      href="#"
      class="flex items-center space-x-3 text-gray-200 hover:no-underline hover:text-gray-400"
    >
      <img
        src="assets/images/icon/vehicles.png"
        alt="Favoris"
        class="w-6 h-6"
      />
      <span>Mes véhicules</span>
    </a>

    <!-- Bouton pour ajouter un nouveau véhicule -->
    <div class="flex justify-center items-center mt-2">
      <button
        (click)="openVehicleModal()"
        class="flex items-center px-3 py-1 bg-bLight text-bDark rounded-lg hover:bg-gray-100 transition-colors duration-200 ease-in-out"
      >
        <img
          src="assets/images/icon/plus.png"
          alt="Ajouter"
          class="w-4 h-4 mr-3 mt-0.5"
        />
        <span>Ajouter un véhicule</span>
      </button>
    </div>

    <!-- Section véhicule -->
    <div class="w-full mt-2">
      <div
        *ngFor="let vehicle of vehicles.slice().reverse()"
        (click)="toggleDetails(vehicle)"
        class="card bg-bLight text-bDark border border-gray-500 rounded-lg cursor-pointer transition-all duration-300 ease-in-out mb-1"
        [class.h-19]="!vehicle.showDetails"
        [class.h-auto]="vehicle.showDetails"
      >
        <!-- Vue compacte de la card -->
        <div class="pl-2 flex items-center space-x-2">
          <img
            [src]="
              'assets/images/icon/car_icons/' +
              vehicle.vehicle_informations.color +
              '.png'
            "
            alt="image de voiture"
            class="w-5 h-5"
          />
          <h3
            class="text-sm font-light text-gray-800 ml-4"
            style="margin-top: 5px"
          >
            {{ vehicle.vehicle_informations.license_plate }}
            <span
              [class.text-green-500]="
                vehicle.options.autoGpsEnabled
              "
              [class.text-red-500]="
                !vehicle.options.autoGpsEnabled
              "
              class="uppercase font-bold cursor-pointer"
              style="font-size: 0.5rem"
              [title]="vehicle.gps_tracker_number"
              >(Tracked{{
                vehicle.options.autoGpsEnabled
                  ? ""
                  : " OFF"
              }})</span
            >
          </h3>
        </div>
        <div class="pl-2 text-xs text-gray-600">
          <p class="mb-0">
            Moteur
            <span
              class="uppercase font-semibold"
              [ngClass]="{
                'text-green-500':
                  vehicle.vehicle_status.engine_on,
                'text-red-500':
                  !vehicle.vehicle_status.engine_on
              }"
              >{{
                vehicle.vehicle_status.engine_on
                  ? "allumé"
                  : "éteint"
              }}</span
            >
          </p>
          <p class="mb-2">
            {{ vehicle.assigned_employee.role }} -
            {{ vehicle.assigned_employee.name }}
          </p>
        </div>

        <!-- Détails supplémentaires, affichés si la card est ouverte -->
        <div
          *ngIf="vehicle.showDetails"
          class="p-2 border-t border-gray-300 text-xs text-gray-600 bg-gray-50"
        >
          <p class="mb-1 font-semibold uppercase">
            {{ vehicle.vehicle_informations.manufacturer }}
            {{ vehicle.vehicle_informations.car_model }}
          </p>
          <p class="mb-1">
            <span class="underline decoration-blue-800"
              >Année</span
            >
            :
            {{ vehicle.vehicle_informations.year }}
          </p>
          <p class="mb-1">
            <span class="underline decoration-fuchsia-500"
              >Capacité</span
            >
            :
            {{ vehicle.vehicle_informations.capacity }}
          </p>
          <p class="mb-1"></p>
          <p class="mb-1">
            <span class="underline decoration-teal-400"
              >Couleur</span
            >
            :
            {{ vehicle.vehicle_informations.color }}
          </p>
          <p class="mb-1">
            <span class="underline decoration-indigo-400"
              >Localisation</span
            >
            :
            {{
              vehicle.vehicle_status.current_location
                .latitude
            }},
            {{
              vehicle.vehicle_status.current_location
                .longitude
            }}
          </p>
          <p class="mb-1">
            <span class="underline decoration-purple-400"
              >Contact</span
            >
            :
            {{ vehicle.assigned_employee.phone_number }}
          </p>
          <p
            style="font-size: 0.5rem"
            class="mb-0.5 uppercase font-black"
          >
            n°gps tracker :
            {{ vehicle.gps_tracker_number }}
          </p>
          <hr class="m-1" />
          <h3 class="text-xs">Actions véhicules :</h3>
          <div
            class="w-full h-30 flex flex-row flex-wrap justify-center"
          >
            <div
              class="flex flex-col items-center"
              (click)="$event.stopPropagation()"
            >
              <div
                (click)="toggleGps(vehicle)"
                [class.bg-green-500]="
                  vehicle.options.autoGpsEnabled
                "
                [class.bg-red-500]="
                  !vehicle.options.autoGpsEnabled
                "
                class="flex justify-center ml-2 mt-2 mr-2 items-center w-10 h-10 p-2 border rounded-lg border-gray-100 shadow bg-green-500 transition-transform transform hover:scale-110 hover:shadow-lg"
              >
                <img
                  src="assets/images/icon/gps.png"
                  alt="Carte"
                />
              </div>
              <span class="mb-2">
                <small class="font-bold text-xs uppercase"
                  >Live</small
                >
              </span>
            </div>
            <div
              class="flex flex-col items-center"
              (click)="$event.stopPropagation()"
            >
              <div
                [ngClass]="{
                  'bg-green-500':
                    vehicle.vehicle_status.engine_on,
                  'bg-red-500':
                    !vehicle.vehicle_status.engine_on
                }"
                class="flex justify-center ml-2 mt-2 mr-2 items-center w-10 h-10 p-2 border rounded-lg border-gray-100 shadow bg-white transition-transform transform hover:scale-110 hover:shadow-lg"
              >
                <img
                  src="assets/images/icon/alerte.png"
                  alt="Carte"
                />
              </div>
              <span class="mb-2">
                <small class="font-bold text-xs uppercase"
                  >Alertes</small
                >
              </span>
            </div>
            <div
              class="flex flex-col items-center"
              (click)="$event.stopPropagation()"
            >
              <div
                [ngClass]="{
                  'bg-green-500':
                    vehicle.vehicle_status.engine_on,
                  'bg-red-500':
                    !vehicle.vehicle_status.engine_on
                }"
                class="flex justify-center ml-2 mt-2 mr-2 items-center w-10 h-10 p-2 border rounded-lg border-gray-100 shadow bg-white transition-transform transform hover:scale-110 hover:shadow-lg"
              >
                <img
                  src="assets/images/icon/edit.png"
                  alt="Carte"
                />
              </div>
              <span class="mb-2">
                <small class="font-bold text-xs uppercase"
                  >Editer</small
                >
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>
  <!-- Autres éléments de navigation ici -->
</ul>